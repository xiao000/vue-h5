{"version":3,"sources":["webpack:///./src/components/main/my/setUp/validCode.vue","webpack:///./src/components/main/my/setUp/validCode.vue?1d47","webpack:///./src/components/main/my/setUp/validCode.vue?a5e0"],"names":["setUp_validCode","data","inputList","val","CodeAll","validCode","disabled","isResend","disableVal","showPositionValue","toastContent","mounted","this","validateBtn","methods","keyDown","length","nextFocus","el","index","dom","document","getElementsByClassName","currInput","nextInput","lastInput","keyCode","slice","focus","blur","changeValue","getVal","i","res","that","formVal","phone","$route","params","email","type","code","access_token","$store","state","user","token","$request","method","url","$baseURL","$qs","stringify","then","response","setSubPhone","setSubEmail","errmsg","catch","error","console","log","formData","$router","push","resend","sign","timestamp","nonce","_this","time","timer","setInterval","clearInterval","my_setUp_validCode","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","action","onsubmit","_l","item","directives","name","rawName","value","expression","key","maxlength","domProps","on","keyup","$event","input","target","composing","$set","action-type","text","keyboard","nativeOn","click","staticStyle","text-align","class","resendCode","disable","is-show-mask","position","model","callback","$$v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.597d48ef296d6c84cab8.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      inputList: [\n        { val: \"\" },\n        { val: \"\" },\n        { val: \"\" },\n        { val: \"\" },\n        { val: \"\" },\n        { val: \"\" }\n      ],\n      CodeAll: \"\",\n      validCode: \"重新发送\",\n      disabled: true,\n      isResend: false,\n      disableVal: false,\n      showPositionValue: false, //提示信息\n      toastContent: \"\"\n    };\n  },\n  mounted() {\n    // if (this.$route.params.userName != undefined) {\n\n    // }\n    this.validateBtn();\n  },\n  methods: {\n    //按钮是否禁用\n    keyDown() {\n      if (this.inputList.length > 1) {\n        this.disabled = false;\n      } else {\n        this.disabled = true;\n      }\n    },\n    //获取焦点\n    nextFocus(el, index) {\n      var dom = document.getElementsByClassName(\"inputStyle\"),\n        currInput = dom[index],\n        nextInput = dom[index + 1],\n        lastInput = dom[index - 1];\n      /*这里的keyCode 根据不同的平台或许不同,安卓就是不是8*/\n      if (el.keyCode != 8) {\n        if (index < this.inputList.length - 1) {\n          if (this.inputList[index].val.length >= 2) {\n            this.inputList[index].val = this.inputList[index].val.slice(0, 1);\n          }\n          nextInput.focus();\n          this.keyDown();\n        } else {\n          currInput.blur();\n        }\n      } else {\n        if (index != 0) {\n          lastInput.focus();\n        }\n      }\n    },\n    /*当键盘按下的时候清空原有的数*/\n    changeValue(index) {\n      this.inputList[index].val = \"\";\n    },\n    //下一步\n    getVal() {\n      if (this.CodeAll != \"\") {\n        this.CodeAll = \"\";\n      } else {\n        for (let i = 0; i < this.inputList.length; i++) {\n          let res = this.inputList[i].val;\n          this.CodeAll += res;\n        }\n      }\n      // console.log(this.$route.params.userName)\n      var that = this,\n        urlData,\n        formVal = {\n          phone: that.$route.params.phone,\n          email: that.$route.params.email,\n          type: that.$route.params.type,\n          code: that.CodeAll,\n          access_token: that.$store.state.user.token\n        };\n      that\n        .$request({\n          method: \"POST\",\n          url: that.$baseURL + \"/personal/check-bind-user-code\",\n          data: that.$qs.stringify(formVal)\n        })\n        .then(function(response) {\n          if (response.code == 0) {\n            if (that.$route.params.phone) {\n              that.setSubPhone();\n            } else if (that.$route.params.email) {\n              that.setSubEmail();\n            }\n          } else {\n            that.showPositionValue = true;\n            that.toastContent = response.errmsg;\n             that.CodeAll = \"\";\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    setSubEmail() {\n      var that = this,\n        formData = {\n          access_token: that.$store.state.user.token,\n          email: that.$route.params.email,\n          code: that.CodeAll\n        };\n      that\n        .$request({\n          method: \"POST\",\n          url: that.$baseURL + \"/personal/bind-email\",\n          data: that.$qs.stringify(formData)\n        })\n        .then(function(response) {\n          if (response.code == 0) {\n            that.$router.push(\"/myDetails\");\n          } else {\n            that.showPositionValue = true;\n            that.toastContent = response.errmsg;\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    setSubPhone() {\n      var that = this,\n        formData = {\n          access_token: that.$store.state.user.token,\n          phone: that.$route.params.phone,\n          code: that.CodeAll\n        };\n      that\n        .$request({\n          method: \"POST\",\n          url: that.$baseURL + \"/personal/bind-phone\",\n          data: that.$qs.stringify(formData)\n        })\n        .then(function(response) {\n          if (response.code == 0) {\n            that.$router.push(\"/myDetails\");\n          } else {\n            that.showPositionValue = true;\n            that.toastContent = response.errmsg;\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    //重新发送验证码\n    resend() {\n      var that = this;\n      var formVal = {\n        phone: that.$route.params.phone,\n        email: that.$route.params.email,\n        type: that.$route.params.type,\n        sign: that.$store.state.user.sign,\n        timestamp: that.$store.state.user.timestamp,\n        nonce: that.$store.state.user.nonce,\n        access_token: that.$store.state.user.token\n      };\n      that\n        .$request({\n          method: \"POST\",\n          url: that.$baseURL + \"/personal/get-code\",\n          data: that.$qs.stringify(formVal)\n        })\n        .then(function(response) {\n          if (response.code == 0) {\n            that.validateBtn();\n            that.showPositionValue = true;\n            that.toastContent = response.errmsg;\n          } else {\n            that.showPositionValue = true;\n            that.toastContent = response.errmsg;\n          }\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    //倒计时\n    validateBtn() {\n      // this.showPositionValue = true;\n      // this.toastContent =\n      //   \"已发送验证码到\" + this.$route.params.userName;\n      let time = 6;\n      let timer = setInterval(() => {\n        if (time <= 0) {\n          clearInterval(timer);\n          this.disableVal = false;\n          this.isResend = false;\n          this.validCode = \"获取验证码\";\n        } else {\n          this.validCode = time + \"秒后重试\";\n          this.disableVal = true;\n          this.isResend = true;\n          time--;\n        }\n      }, 1000);\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/main/my/setUp/validCode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"validCode\"},[_c('div',{staticClass:\"prTitle fontSize52 marginLr\"},[_vm._v(\"输入验证码\")]),_vm._v(\" \"),_c('div',{staticClass:\"prompt fontSize30 marginL\"},[_c('span',[_vm._v(\"\\n      已发送至\\n      \"),(this.$route.params.type == 1)?_c('i',[_vm._v(\"\\n        手机\"+_vm._s(this.$route.params.phone)+\"\\n      \")]):_c('i',[_vm._v(\" 邮箱\"+_vm._s(this.$route.params.email)+\" \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"formMain\"},[_c('form',{attrs:{\"action\":\"\",\"onsubmit\":\"return false;\"}},[_vm._l((_vm.inputList),function(item,index){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.val),expression:\"item.val\"}],key:index,staticClass:\"inputStyle\",attrs:{\"type\":\"number\",\"maxlength\":\"1\"},domProps:{\"value\":(item.val)},on:{\"keyup\":function($event){return _vm.nextFocus($event, index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"val\", $event.target.value)}}})]}),_vm._v(\" \"),_c('x-button',{attrs:{\"action-type\":\"button\",\"type\":\"warn\",\"text\":\"确认\",\"keyboard\":\"number\",\"disabled\":_vm.disabled},nativeOn:{\"click\":function($event){return _vm.getVal($event)}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('p',{class:[\n            'fontSize30',\n            { resendCode: _vm.isResend, disable: _vm.disableVal }\n          ],on:{\"click\":_vm.resend}},[_vm._v(\"\\n          \"+_vm._s(_vm.validCode)+\"\\n        \")])])],2)]),_vm._v(\" \"),_c('toast',{attrs:{\"type\":\"text\",\"is-show-mask\":\"\",\"text\":_vm.toastContent,\"position\":\"middle\"},model:{value:(_vm.showPositionValue),callback:function ($$v) {_vm.showPositionValue=$$v},expression:\"showPositionValue\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c2581e0a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/main/my/setUp/validCode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c2581e0a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{'modifyVars':{'color':'#F55033','button-global-height':'50px','button-warn-bg-color':'@color','button-warn-active-color':'#DC472D','button-warn-disabled-bg-color':'#CCCCCC','tabbar-text-active-color':'@color','tabbar-text-default-color':'#333333','header-background-color':'#FFFFFF','header-title-color':'#333333','header-text-color':'#333333','header-arrow-color':'#333333','tab-text-active-color':'@color','tab-bar-active-color':'@color','tab-text-default-color':'#333333','switch-checked-bg-color':'@color','switch-checked-border-color':'@color','range-bar-active-color':'@color','swiper-indicator-active-color':'#FFFFFF','button-plain-warn-color':'@color','button-plain-warn-border-color':'@color','button-plain-warn-active-color':'#D93025','button-plain-warn-active-border-color':'#D93025'},'sourceMap':true}!../../../../../node_modules/vux-loader/src/style-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./validCode.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./validCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./validCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c2581e0a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../../node_modules/vux-loader/src/template-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./validCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c2581e0a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/main/my/setUp/validCode.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}