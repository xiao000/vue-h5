webpackJsonp([34],{o39u:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"phoneRegister"},[n("div",{staticClass:"prTitle fontSize52 marginLr"},[t._v("绑定手机")]),t._v(" "),n("div",{staticClass:"formMain"},[n("form",{attrs:{action:"",onsubmit:"return false;"}},[n("x-input",{ref:"refcode",attrs:{title:"+86",placeholder:"输入手机号码"},on:{"on-change":t.keyDown},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("x-button",{attrs:{"action-type":"submit",type:"warn",text:"下一步",disabled:t.disabled},nativeOn:{click:function(e){return t.submitFun(e)}}})],1)]),t._v(" "),n("toast",{attrs:{type:"text","is-show-mask":"",text:t.toastContent,position:"middle"},model:{value:t.showPositionValue,callback:function(e){t.showPositionValue=e},expression:"showPositionValue"}})],1)},staticRenderFns:[]};var s=n("VU/8")({data:function(){return{phone:"",disabled:!0,showPositionValue:!1,toastContent:""}},methods:{keyDown:function(){1==this.$refs.refcode.valid&&""!=this.phone?this.disabled=!1:this.disabled=!0},submitFun:function(){var t,e,n=this;""!=n.phone&&/^1(3|4|5|6|7|8|9)\d{9}$/.test(n.phone)?(e={phone:n.phone,type:"1",sign:n.$store.state.user.sign,timestamp:n.$store.state.user.timestamp,nonce:n.$store.state.user.nonce},n.$request({method:"POST",url:n.$baseURL+"/user/check-user",data:n.$qs.stringify(e)}).then(function(e){204==e.code?(n.showPositionValue=!0,n.toastContent=e.errmsg):(t={phone:n.phone,type:"1",access_token:n.$store.state.user.token},n.$request({method:"POST",url:n.$baseURL+"/personal/get-code",data:n.$qs.stringify(t)}).then(function(t){0==t.code?n.$router.push({name:"setUpValidCode",params:{phone:n.phone,email:"",type:"1"}}):(n.showPositionValue=!0,n.toastContent="验证码"+t.errmsg)}).catch(function(t){}))}).catch(function(t){})):(n.showPositionValue=!0,n.toastContent="请您输入正确的手机号码")}}},o,!1,function(t){n("tpCr")},"data-v-720a703e",null);e.default=s.exports},tpCr:function(t,e){}});
//# sourceMappingURL=34.3e5372cf01b7f4b9a98b.js.map