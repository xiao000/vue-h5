webpackJsonp([35],{"Cu+s":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"email"},[s("div",{staticClass:"prTitle fontSize52 marginLr"},[t._v("绑定邮箱")]),t._v(" "),s("div",{staticClass:"formMain"},[s("form",{attrs:{action:"",onsubmit:"return false;"}},[s("x-input",{ref:"refcode",attrs:{placeholder:"输入邮箱地址"},on:{"on-change":t.keyDown},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("x-button",{attrs:{"action-type":"submit",type:"warn",text:"下一步",disabled:t.disabled},nativeOn:{click:function(e){return t.submitFun(e)}}})],1)]),t._v(" "),s("toast",{attrs:{type:"text","is-show-mask":"",text:t.toastContent,position:"middle"},model:{value:t.showPositionValue,callback:function(e){t.showPositionValue=e},expression:"showPositionValue"}})],1)},staticRenderFns:[]};var i=s("VU/8")({data:function(){return{email:"",disabled:!0,showPositionValue:!1,toastContent:""}},methods:{keyDown:function(){1==this.$refs.refcode.valid&&""!=this.email?this.disabled=!1:this.disabled=!0},submitFun:function(){var t,e,s=this;""!=s.email&&/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(s.email)?(e={email:s.email,type:"2",sign:s.$store.state.user.sign,timestamp:s.$store.state.user.timestamp,nonce:s.$store.state.user.nonce},s.$request({method:"POST",url:s.$baseURL+"/user/check-user",data:s.$qs.stringify(e)}).then(function(e){204==e.code?(s.showPositionValue=!0,s.toastContent=e.errmsg):(t={email:s.email,type:"2",access_token:s.$store.state.user.token},s.$request({method:"POST",url:s.$baseURL+"/personal/get-code",data:s.$qs.stringify(t)}).then(function(t){0==t.code?s.$router.push({name:"setUpValidCode",params:{email:s.email,type:"2"}}):(s.showPositionValue=!0,s.toastContent="验证码"+t.errmsg)}).catch(function(t){}))}).catch(function(t){})):(s.showPositionValue=!0,s.toastContent="请您输入正确的邮箱")}}},a,!1,function(t){s("mD6Q")},"data-v-64afbd9c",null);e.default=i.exports},mD6Q:function(t,e){}});
//# sourceMappingURL=35.f09235f04198fc65119d.js.map